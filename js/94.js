"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[94],{1094:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var r=n(926),a=n(5062),l=n(374),o=n(7378),i=n(9406),c=n(9180),s=n(6056),u=n(124),m=n(5937),d=n(9292),y=n(8946),f=n(8035),p=n(7338),g=n(5292),E=n(6880),x=n(5617),h=n(6943),v=y.Z.Text,b=y.Z.Title,S=function(e){var t=e.transaction,n=e.onClick,r=(0,i.S)().t,a=t.type===h.i.INCOME,l=t.type===h.i.EXPENSE,c="".concat(Math.abs(t.amount).toLocaleString("ru-RU")," ₽"),s=function(e){switch(e){case h.i.INCOME:return{color:"green",text:r("transaction.card.income")};case h.i.EXPENSE:return{color:"red",text:r("transaction.card.expense")};case h.i.TRANSFER:return{color:"blue",text:r("transaction.card.transfer")};default:return{color:"default",text:r("transaction.card.unknown")}}}(t.type);return o.createElement(f.Z.Ribbon,{text:s.text,color:s.color},o.createElement(p.Z,{hoverable:!0,onClick:function(){return null==n?void 0:n(t.id)},style:{height:"280px",display:"flex",flexDirection:"column"},styles:{body:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between"}}},o.createElement(g.Z,{direction:"vertical",size:"middle",style:{width:"100%"}},o.createElement(g.Z,{align:"start",size:"middle"},o.createElement(E.Z,{size:48,style:{backgroundColor:t.categoryColor+"20",border:"2px solid ".concat(t.categoryColor),fontSize:"20px"}},t.categoryIcon),o.createElement("div",{style:{flex:1}},o.createElement(b,{level:5,style:{margin:0,marginBottom:"4px"}},t.title),o.createElement(x.Z,{color:t.categoryColor,style:{margin:0}},t.categoryName))),o.createElement(v,{type:"secondary",style:{fontSize:"13px",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",minHeight:"40px"}},t.description),o.createElement("div",null,o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},o.createElement(v,{strong:!0,style:{fontSize:"18px",color:a?"#52c41a":l?"#f5222d":"#1677ff"}},a?"+":l?"-":"",c)),o.createElement(v,{type:"secondary",style:{fontSize:"12px"}},new Date(t.date).toLocaleDateString("ru-RU",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}))))))},Z=n(1931),w=y.Z.Text,C=y.Z.Title,k=function(e){var t=e.transactions,n=(0,i.S)().t,r=t.filter((function(e){return e.type===h.i.INCOME})).reduce((function(e,t){return e+t.amount}),0),c=Math.abs(t.filter((function(e){return e.type===h.i.EXPENSE})).reduce((function(e,t){return e+t.amount}),0)),s=t.length;return o.createElement(p.Z,{style:{marginBottom:"24px"}},o.createElement(a.Z,{gutter:16,align:"middle"},o.createElement(l.Z,{span:8},o.createElement("div",{style:{textAlign:"center"}},o.createElement(C,{level:4,style:{margin:0,color:"#52c41a"}},r.toLocaleString("ru-RU")," ₽"),o.createElement(w,{type:"secondary"},n("transaction.stats.income")))),o.createElement(l.Z,{span:8},o.createElement("div",{style:{textAlign:"center"}},o.createElement(C,{level:4,style:{margin:0,color:"#f5222d"}},c.toLocaleString("ru-RU")," ₽"),o.createElement(w,{type:"secondary"},n("transaction.stats.expenses")))),o.createElement(l.Z,{span:8},o.createElement("div",{style:{textAlign:"center"}},o.createElement(C,{level:4,style:{margin:0}},s),o.createElement(w,{type:"secondary"},n("transaction.stats.total"))))))};function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l,o,i=[],c=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(){var e=(0,d.s0)(),t=(0,i.S)().t,n=T((0,o.useState)(1),2),r=n[0],c=n[1],s=T((0,o.useState)(6),2),y=s[0],f=s[1],p=Z.FT.getAllTransactions();if(0===p.length)return o.createElement(u.Z,{description:t("transaction.empty")});var g=(r-1)*y,E=g+y,x=p.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})).slice(g,E),h=function(t){e("/transactions/".concat(t))};return o.createElement("div",null,o.createElement(k,{transactions:p}),o.createElement(a.Z,{gutter:[16,16]},x.map((function(e){return o.createElement(l.Z,{xs:24,sm:12,lg:8,xl:8,key:e.id},o.createElement(S,{transaction:e,onClick:h}))}))),p.length>y&&o.createElement("div",{style:{textAlign:"center",marginTop:"32px"}},o.createElement(m.Z,{current:r,total:p.length,pageSize:y,onChange:c,showSizeChanger:!0,onShowSizeChange:function(e,t){return f(t)},pageSizeOptions:[6,12,18,24,100],showQuickJumper:!1,showTotal:function(e,n){return t("transaction.pagination.titleOfPage",{viewed:n[0],all:n[1],total:e})}})))};const O=function(){var e=(0,i.S)().t,t=(0,c.pX)(),n=t.isModalOpen,u=t.modalMode,m=t.loading,d=t.editingTransactionId,y=t.openCreateModal,f=t.closeModal,p=t.handleSubmit;return o.createElement(s.Zn,null,o.createElement(r.Z,{vertical:!0,gap:32},o.createElement(a.Z,{justify:"space-between",align:"middle"},o.createElement(l.Z,null,o.createElement(s.U3,{title:e("transaction.title"),level:3})),o.createElement(l.Z,null,o.createElement(c.pJ,{onClick:y}))),o.createElement(z,null)),o.createElement(c.tV,{open:n,onClose:f,onSubmit:p,mode:u,transactionId:d||void 0,loading:m}))}}}]);
//# sourceMappingURL=94.js.map